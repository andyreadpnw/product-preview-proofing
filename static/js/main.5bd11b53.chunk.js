(this["webpackJsonpproduct-preview-proofing"]=this["webpackJsonpproduct-preview-proofing"]||[]).push([[0],{26:function(e,t,a){},35:function(e,t,a){},53:function(e,t,a){e.exports=a(91)},58:function(e,t,a){},78:function(e,t){},80:function(e,t){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),l=a.n(o),s=(a(58),a(6)),c=a(7),p=a(9),i=a(8),u=a(10),m=(a(35),a(13)),d=a(11),v=a(93),h=a(94),_=a(95),E=a(110),g=a(96),y=a(97),f=a(98),b="https://product-preview-backend.herokuapp.com",S={"Content-Type":"application/json",Accepts:"application/json",Authorization:localStorage.getItem("token")},C={login:function(e){return fetch("".concat(b,"/auth"),{method:"POST",headers:S,body:JSON.stringify(e)}).then((function(e){return e.json()}))},getCurrentUser:function(){return fetch("".concat(b,"/current_user"),{headers:S}).then((function(e){return e.json()}))}},k=(r.a.Component,a(17)),w=a(107),P=a(108),A=a(109),I=a(99),j=a(100),V=a(101),O=a(102),D=a(103),M=a(104),R=a(105),T=(a(26),function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product,a=t.id,n=t.name,o=t.product_main_image,l=t.parent_id,s=t.department,c=t.style_id,p=this.props.currentUser.user_id.user_group_id;return r.a.createElement("div",null,r.a.createElement(I.a,null,r.a.createElement(j.a,{bg:"light",raised:!0,className:"CardItem-main-card",onClick:function(){return e.props.enterProduct(a)}},r.a.createElement(V.a,{top:!0,width:"100%",src:o,alt:"Card image cap",className:"ProductCard-img"}),r.a.createElement(O.a,null,n),r.a.createElement(D.a,{className:"list-group-flush"},r.a.createElement(M.a,null,"Product ID: ",l),r.a.createElement(M.a,null,"Department: ",s),r.a.createElement(M.a,null,"Style ID: ",c)),1===p&&r.a.createElement(R.a,{color:"danger",onClick:function(){return e.props.removeProduct(a)}},"Delete"))))}}]),t}(n.Component)),U=a(106),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(i.a)(t).call(this,e))).updateApprovalValue=function(e){var t=e.target.value;switch(a.props.currentUser.user_id.user_group_id){case 1:case 2:"ecomm",a.setState({ecomm_approver:a.props.currentUser.user_id.username,ecomm_approve:t});break;case 3:"plm",a.setState({plm_approver:a.props.currentUser.user_id.username,plm_approve:t});break;case 4:"merchant",a.setState({merchant_approver:a.props.currentUser.user_id.username,merchant_approve:t});break;case 5:"planner",a.setState({planner_approver:a.props.currentUser.user_id.username,planner_approve:t});break;case 6:"other",a.setState({other_approver:a.props.currentUser.user_id.username,other_approve:t})}},a.updateCommentValue=function(e){var t=e.target.value;switch(a.props.currentUser.user_id.user_group_id){case 1:case 2:"ecomm",a.setState({ecomm_approver:a.props.currentUser.user_id.username,ecomm_comment:t});break;case 3:"plm",a.setState({plm_approver:a.props.currentUser.user_id.username,plm_comment:t});break;case 4:"merchant",a.setState({merchant_approver:a.props.currentUser.user_id.username,merchant_comment:t});break;case 5:"planner",a.setState({planner_approver:a.props.currentUser.user_id.username,planner_comment:t});break;case 6:"other",a.setState({other_approver:a.props.currentUser.user_id.username,other_comment:t})}},a.submitApproval=function(e){console.log(e),console.log(a.props.currentUser.user_id.user_group_id);var t="ecomm";switch(a.props.currentUser.user_id.user_group_id){case 1:case 2:t="ecomm",a.setState({ecomm_approve:a.state.ecomm_approve,ecomm_approver:a.state.ecomm_approver,ecomm_comment:a.state.ecomm_comment});break;case 3:t="plm",a.setState({plm_approve:a.state.ecomm_approve,plm_approver:a.state.ecomm_approver,plm_comment:a.state.ecomm_comment});break;case 4:t="merchant",a.setState({merchant_approve:a.state.ecomm_approve,merchant_approver:a.state.ecomm_approver,merchant_comment:a.state.ecomm_comment});break;case 5:t="planner",a.setState({planner_approve:a.state.ecomm_approve,planner_approver:a.state.ecomm_approver,planner_comment:a.state.ecomm_comment});break;case 6:t="other",a.setState({other_approve:a.state.ecomm_approve,other_approver:a.state.ecomm_approver,other_comment:a.state.ecomm_comment})}var n=t+"_approve",r=t+"_approver",o=t+"_comment";console.log(n),console.log(r),console.log(o),fetch("https://product-preview-backend.herokuapp.com/approvals/"+e,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({ecomm_approve:a.state.ecomm_approve,ecomm_approver:a.state.ecomm_approver,ecomm_comment:a.state.ecomm_comment,plm_approve:a.state.plm_approve,plm_approver:a.state.plm_approver,plm_comment:a.state.plm_comment,merchant_approve:a.state.merchant_approve,merchant_approver:a.state.merchant_approver,merchant_comment:a.state.merchant_comment,planner_approve:a.state.planner_approve,planner_approver:a.state.planner_approver,planner_comment:a.state.planner_comment,other_approve:a.state.other_approve,other_approver:a.state.other_approver,other_comment:a.state.other_comment})}).then((function(e){1===Math.floor(e.status/200)?(a.props.updateApprovals(),console.log("Edited log successfully")):console.log("ERROR",e)}))},a.state={ecomm_approve:a.props.ecomm_approve,ecomm_approver:a.props.ecomm_approver,ecomm_comment:a.props.ecomm_comment,plm_approve:a.props.plm_approve,plm_approver:a.props.plm_approver,plm_comment:a.props.plm_comment,merchant_approve:a.props.merchant_approve,merchant_approver:a.props.merchant_approver,merchant_comment:a.props.merchant_comment,planner_approve:a.props.planner_approve,planner_approver:a.props.planner_approver,planner_comment:a.props.planner_comment,other_approve:a.props.other_approve,other_approver:a.props.other_approver,other_comment:a.props.other_comment},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product,a=t.parent_id,n=t.name,o=t.department,l=t.style_id,s=t.color_id,c=t.product_copy,p=t.product_main_image,i=t.fit,u=t.fabrication,m=t.style_type,d=this.props.approvals[0],v=d.id,h=d.ecomm_approve,_=d.ecomm_approver,E=d.ecomm_comment,g=d.plm_approve,y=d.plm_approver,f=d.plm_comment,b=d.merchant_approve,S=d.merchant_approver,C=d.merchant_comment,k=d.planner_approve,w=d.planner_approver,P=d.planner_comment,A=d.other_approve,I=d.other_approver,j=d.other_comment;return console.log(this.props.approvals),r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("hgroup",null,r.a.createElement("h1",null,n),r.a.createElement("h4",null,"Product ID: ",a),r.a.createElement("img",{src:p}))),r.a.createElement("div",{class:"grid-container"},r.a.createElement("div",{class:"grid-item"},r.a.createElement("section",null,r.a.createElement("h5",null,"Summary Copy: ",c),r.a.createElement("li",null,"Department: ",o),r.a.createElement("li",null,"Style ID: ",l),r.a.createElement("li",null,"Color ID: ",s),r.a.createElement("li",null,"Size Type: ",m),r.a.createElement("details",null,r.a.createElement("summary",null,"Product Features"),r.a.createElement("ul",null,r.a.createElement("li",null,"Fit: ",i),r.a.createElement("li",null,"Fabrication: ",u))))),r.a.createElement("div",{class:"grid-item2"},r.a.createElement(U.a,{striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Team"),r.a.createElement("th",null,"Approve"),r.a.createElement("th",null,"Approver"),r.a.createElement("th",null,"Comments"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Ecomm"),r.a.createElement("td",null,h),r.a.createElement("td",null,_),r.a.createElement("td",null,E)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"PLM"),r.a.createElement("td",null,g),r.a.createElement("td",null,y),r.a.createElement("td",null,f)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Merchant"),r.a.createElement("td",null,b),r.a.createElement("td",null,S),r.a.createElement("td",null,C)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Planner"),r.a.createElement("td",null,k),r.a.createElement("td",null,w),r.a.createElement("td",null,P)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Other"),r.a.createElement("td",null,A),r.a.createElement("td",null,I),r.a.createElement("td",null,j)))),"Status:",r.a.createElement("select",{value:this.state.approval,onChange:this.updateApprovalValue},r.a.createElement("option",{value:"Incomplete"},"Incomplete"),r.a.createElement("option",{value:"In-Progress"},"In-Progress"),r.a.createElement("option",{value:"Approved"},"Approved")),r.a.createElement("br",null),"Approver Comment:",r.a.createElement("input",{type:"text",className:"form-control",value:this.state.comment,name:"comment",placeholder:this.state.comment,onChange:this.updateCommentValue}),r.a.createElement("button",{onClick:function(){return e.submitApproval(v)}},"Submit"))))}}]),t}(n.Component),x=a(23),N=a.n(x),J=a(18),B=a.n(J),F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(i.a)(t).call(this,e))).updateLogBodyValue=function(e){var t=e.target.value;a.setState({log_body:t})},a.updateDivisionValue=function(e){var t=e.target.value;a.setState({division:t})},a.updateSiteValue=function(e){var t=e.target.value;a.setState({site:t})},a.updateIssueClassValue=function(e){var t=e.target.value;a.setState({issue_class:t})},a.updateIssueTypeValue=function(e){var t=e.target.value;a.setState({issue_type:t})},a.updateIssueClassValue=function(e){var t=e.target.value;a.setState({issue_class:t})},a.updateIssueClassValue=function(e){var t=e.target.value;a.setState({issue_class:t})},a.updateEnvironmentValue=function(e){var t=e.target.value;a.setState({environment:t})},a.updateStatusValue=function(e){var t=e.target.value;a.setState({status:t})},a.updatePriorityValue=function(e){var t=e.target.value;a.setState({priority:t})},a.updateAssignedValue=function(e){var t=e.target.value;a.setState({assigned:t})},a.updateCCValue=function(e){var t=e.target.value;a.setState({cc:t})},a.updateDueDateValue=function(e){var t=e.target.value;a.setState({due_date:t})},a.handleRowClicked=function(e){a.setState({logSelected:e.id,status:e.status,priority:e.priority,issue_type:e.issue_type,issue_class:e.issue_class,site:e.site,division:e.division,environment:e.environment,log_body:e.log_body,assigned:e.assigned,cc:e.cc,due_date:e.due_date}),a.openModal()},a.submitLog=function(e){0!==a.state.logSelected?fetch("http://product-preview-backend.herokuapp.com/product_logs/"+e,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({status:a.state.status,priority:a.state.priority,issue_type:a.state.issue_type,issue_class:a.state.issue_class,site:a.state.site,division:a.state.division,environment:a.state.environment,log_body:a.state.log_body,assigned:a.state.assigned,cc:a.state.cc,due_date:a.state.due_date})}).then((function(e){1===Math.floor(e.status/200)?(a.props.updateProductTickets(),a.closeEditModal(),console.log("Edited log successfully")):console.log("ERROR",e)})):fetch("http://product-preview-backend.herokuapp.com/product_logs",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({status:a.state.status,priority:a.state.priority,issue_type:a.state.issue_type,issue_class:a.state.issue_class,site:a.state.site,division:a.state.division,environment:a.state.environment,log_body:a.state.log_body,assigned:a.state.assigned,cc:a.state.cc,due_date:a.state.due_date,color_id:a.props.product[0].color_id,department:a.props.product[0].department,fabrication:a.props.product[0].fabrication,fit:a.props.product[0].fit,name:a.props.product[0].name,parent_id:a.props.product[0].parent_id,product_copy:a.props.product[0].product_copy,product_id:a.props.product[0].id,style_id:a.props.product[0].style_id})}).then((function(e){1===Math.floor(e.status/200)?(console.log("New Product Log submitted"),a.props.updateProductTickets(),a.closeEditModal()):console.log("ERROR",e)}))},a.state={visible:!1,editVisible:!1,logSelected:1,status:"none",priority:"none",issue_type:"none",issue_class:"none",site:"none",division:"none",environment:"none",log_body:"none",assigned:"none",cc:"none",due_date:"none",data:a.props.data},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"openModal",value:function(){this.setState({visible:!0})}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"deleteTicket",value:function(e){var t=this;this.setState({visible:!1}),fetch("http://product-preview-backend.herokuapp.com/product_logs/"+e,{method:"delete"}).then((function(e){t.props.updateProductTickets()})).then((function(e){return console.log(e.message)})).catch((function(e){console.error(e)})),console.log("Deleted Log"),this.closeEditModal()}},{key:"closeEditModal",value:function(){this.setState({editVisible:!1})}},{key:"handleNewTicket",value:function(){this.setState({editVisible:!0,logSelected:0,status:"none",priority:"none",issue_type:"none",issue_class:"none",site:"none",division:"none",environment:"none",log_body:"none",assigned:"none",cc:"none",due_date:"none"})}},{key:"openEditModal",value:function(){this.setState({visible:!1,editVisible:!0})}},{key:"render",value:function(){var e=this,t=this.state.data;return r.a.createElement("div",null,r.a.createElement(N.a,{title:"Product Logs",columns:[{name:"ID",selector:"id",sortable:!0,width:"45px"},{name:"Status",selector:"status",sortable:!0,right:!0,width:"90px"},{name:"Priority",selector:"priority",sortable:!0,right:!0,width:"90px"},{name:"Issue Type",selector:"issue_type",sortable:!0,right:!0,width:"120px"},{name:"Issue Class",selector:"issue_class",sortable:!0,right:!0,width:"140px"},{name:"Site",selector:"site",sortable:!0,right:!0,width:"90px"},{name:"Division",selector:"division",sortable:!0,right:!0,width:"90px"},{name:"Environment",selector:"environment",sortable:!0,right:!0,width:"90px"},{name:"Action Request",selector:"log_body",sortable:!0,right:!0,grow:120},{name:"Assigned",selector:"assigned",sortable:!0,right:!0,width:"120px"},{name:"CC",selector:"cc",sortable:!0,right:!0},{name:"Date Prediction",selector:"date_due",sortable:!0,right:!0}],data:t,onRowClicked:this.handleRowClicked,onClick:this.handleClick,pagination:!0}),r.a.createElement(B.a,{visible:this.state.visible,effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},r.a.createElement("div",{id:"tickets-edit"},r.a.createElement("h1",null,this.props.product[0].name),r.a.createElement("p",null,"ID: ",this.state.logSelected),r.a.createElement("p",null,"Status: ",this.state.status),r.a.createElement("p",null,"Priority: ",this.state.priority),r.a.createElement("p",null,"Issue Class: ",this.state.issue_class),r.a.createElement("p",null,"Issue Type: ",this.state.issue_type),r.a.createElement("p",null,"Site: ",this.state.site),r.a.createElement("p",null,"Division: ",this.state.division),r.a.createElement("p",null,"Environment: ",this.state.environment),r.a.createElement("p",null,"Action Requested: ",this.state.log_body),r.a.createElement("p",null,"Assigned: ",this.state.assigned),r.a.createElement("p",null,"CC: ",this.state.cc),r.a.createElement("p",null,"Date Requested: ",this.state.due_date),r.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.openEditModal()}},"Edit"),r.a.createElement("br",null),r.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.closeModal()}},"Close"),r.a.createElement("br",null),r.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.deleteTicket(e.state.logSelected)}},"Delete"))),r.a.createElement(B.a,{visible:this.state.editVisible,effect:"fadeInUp",onClickAway:function(){return e.closeEditModal()}},r.a.createElement("div",{id:"tickets-edit"},r.a.createElement("h1",null,"Log ID:",this.state.logSelected),"Status:",r.a.createElement("select",{value:this.state.status,onChange:this.updateStatusValue},r.a.createElement("option",{value:"none"},"Select"),r.a.createElement("option",{value:"Active"},"Active"),r.a.createElement("option",{value:"In-Progress"},"In-Progress"),r.a.createElement("option",{value:"Complete"},"Complete")),r.a.createElement("p",null),"Priority:",r.a.createElement("select",{value:this.state.priority,onChange:this.updatePriorityValue},r.a.createElement("option",{value:"none"},"Select"),r.a.createElement("option",{value:"Low"},"Low"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"High"},"High"),r.a.createElement("option",{value:"Urgent"},"Urgent")),r.a.createElement("p",null),"Issue Class:",r.a.createElement("select",{value:this.state.issue_type,onChange:this.updateIssueTypeValue},r.a.createElement("option",{value:"none"},"Select"),r.a.createElement("option",{value:"Product Data"},"Product Data"),r.a.createElement("option",{value:"Image Issue"},"Image Issue"),r.a.createElement("option",{value:"Incorrect Load"},"Incorrect Load"),r.a.createElement("option",{value:"Copy"},"Copy")),r.a.createElement("p",null),"Issue Type:",r.a.createElement("select",{value:this.state.issue_class,onChange:this.updateIssueClassValue},r.a.createElement("option",{value:"none"},"Select"),r.a.createElement("option",{value:"Prevent Load until Fixed"},"Prevent Load until Fixed"),r.a.createElement("option",{value:"Load but Correct ASAP"},"Incorrect Load")),r.a.createElement("p",null),"Site:",r.a.createElement("select",{value:this.state.site,onChange:this.updateSiteValue},r.a.createElement("option",{value:"none"},"Select"),r.a.createElement("option",{value:"US Site"},"US Site"),r.a.createElement("option",{value:"CA Site"},"CA Site")),r.a.createElement("p",null),"Division:",r.a.createElement("select",{value:this.state.division,onChange:this.updateDivisionValue},r.a.createElement("option",{value:"none"},"Select"),r.a.createElement("option",{value:"Ecomm"},"Ecomm"),r.a.createElement("option",{value:"Planner"},"Planner"),r.a.createElement("option",{value:"Merchant"},"Merchant"),r.a.createElement("option",{value:"PLM"},"Planner")),r.a.createElement("p",null),"Environment:",r.a.createElement("select",{value:this.state.environment,onChange:this.updateEnvironmentValue},r.a.createElement("option",{value:"none"},"Select"),r.a.createElement("option",{value:"Proofing"},"Proofing"),r.a.createElement("option",{value:"Product Live"},"Product Live")),r.a.createElement("p",null),"Request:",r.a.createElement("input",{type:"text",className:"form-control",value:this.state.log_body,name:"logBody",placeholder:this.state.log_body,onChange:this.updateLogBodyValue}),r.a.createElement("p",null),"Assigned:",r.a.createElement("select",{value:this.state.assigned,onChange:this.updateAssignedValue},r.a.createElement("option",{value:"none"},"Select"),r.a.createElement("option",{value:"Select"},"Andy Read"),r.a.createElement("option",{value:"Andy Read"},"Andy Read")),r.a.createElement("p",null),"CC:",r.a.createElement("select",{value:this.state.cc,onChange:this.updateCCValue},r.a.createElement("option",{value:"none"},"Select"),r.a.createElement("option",{value:"Select"},"Andy Read"),r.a.createElement("option",{value:"Andy Read"},"Andy Read")),r.a.createElement("p",null),"Due Date:",r.a.createElement("input",{type:"text",className:"form-control",value:this.state.due_date,name:"due_date",placeholder:this.state.due_date,onChange:this.updateDueDateValue}),r.a.createElement("p",null),r.a.createElement("button",{onClick:function(){return e.submitLog(e.state.logSelected)}},"Submit"),r.a.createElement("p",null),r.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.closeEditModal()}},"Close"))),r.a.createElement("input",{type:"button",value:"Log a New Ticket",onClick:function(){return e.handleNewTicket()}}))}}]),t}(n.Component),H=(n.Component,a(75),r.a.Component,n.Component,a(51)),q=a(49),W=(n.Component,function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(p.a)(this,Object(i.a)(t).call(this))).state={auth:{user:{user_id:{id:null,username:null}}}},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},"Hi there")}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(90);l.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.5bd11b53.chunk.js.map